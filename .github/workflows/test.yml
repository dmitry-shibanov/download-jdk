name: test
on: push
jobs:
  jdk:
    name: "JDK ${{ matrix.java }}"
    strategy:
      fail-fast: false
      matrix:
        java: [14, 13, 11, 8]
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - uses: ./
      with:
        feature: ${{ matrix.java }}
    - uses: actions/setup-java@v1
      with:
        java-version: "${{ env.JAVA_VERSION }}"
        jdkFile: "${{ env.JDK_FILE }}"
    - run: java --version
